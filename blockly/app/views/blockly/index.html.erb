<table width="100%" height="100%">
  <tr>
    <td>
      <h1>Mine Blockly</h1>
    </td>
    <td class="farSide">
      <select id="languageMenu"></select>
    </td>
  </tr>
  <tr>
    <td colspan=2>
      <table width="100%">
        <tr id="tabRow" height="1em">
          <td id="tab_blocks" class="tabon">...</td>
          <td class="tabmin">&nbsp;</td>
          <td id="tab_javascript" class="taboff">JavaScript</td>
          <td class="tabmin">&nbsp;</td>
          <td id="tab_python" class="taboff">Python</td>
          <td class="tabmin">&nbsp;</td>
          <td id="tab_php" class="taboff">PHP</td>
          <td class="tabmin">&nbsp;</td>
          <td id="tab_lua" class="taboff">Lua</td>
          <td class="tabmin">&nbsp;</td>
          <td id="tab_dart" class="taboff">Dart</td>
          <td class="tabmin">&nbsp;</td>
          <td id="tab_xml" class="taboff">XML</td>
          <td class="tabmax">
            <button id="trashButton" class="notext" title="...">
              <%= image_tag("blockly/1x1.gif", :class => "trash icon21") %>
            </button>
            <!-- <button id="linkButton" class="notext" title="...">
              <%= image_tag("blockly/1x1.gif", :class => "link icon21") %>
            </button> -->
            <%= form_tag(run_blockly_index_path, remote: true, class: "flat") do %>
              <button id="runButton" class="notext primary" title="...">
                <%= image_tag("blockly/1x1.gif", :class => "run icon21") %>
              </button>
              <div id="runParams"></div>
              <%= token_tag %>
            <% end %>
            <span class="local-starage-btns">
              <button id="saveButton">Save</button>
              <button id="restoreButton">Restore</button>
            </span>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td height="99%" colspan=2 id="content_area">
    </td>
  </tr>
</table>
<div id="content_blocks" class="content"></div>
<pre id="content_javascript" class="content"></pre>
<pre id="content_python" class="content"></pre>
<pre id="content_php" class="content"></pre>
<pre id="content_lua" class="content"></pre>
<pre id="content_dart" class="content"></pre>
<textarea id="content_xml" class="content" wrap="off"></textarea>

<div id="restoreModal" class="restore-modal">
  <div class="modal-window">
    <div class="modal-header">Saved programs</div>
    <ul id="restoreList" class="program-list"></ul>
    <div class="modal-footer">
      <a id="closeModal">Cancel</a>
    </div>
  </div>
</div>

<xml id="toolbox" style="display: none">
  <category name="Minetest" colour="%{BKY_COLOUR_HUE}">
    <block type="minetest_createblock">
      <value name="material">
        <block type="minetest_materials">
          <field name="MATERIAL">stone</field>
        </block>
      </value>
      <value name="x">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
      <value name="y">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
      <value name="z">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
    </block>

    <block type="minetest_textblock">
  	  <value name="x">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
      <value name="y">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
      <value name="z">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
  	  <value name="dx">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
      <value name="dy">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
      <value name="dz">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
    </block>

    <block type="minetest_materials"></block>
  </category>

  <category name="%{BKY_CATLOGIC}" colour="%{BKY_LOGIC_HUE}">
    <block type="controls_if"></block>
    <block type="logic_compare"></block>
    <block type="logic_operation"></block>
    <block type="logic_negate"></block>
    <block type="logic_boolean"></block>
  </category>

  <category name="%{BKY_CATLOOPS}" colour="%{BKY_LOOPS_HUE}">
    <block type="controls_repeat_ext">
      <value name="TIMES">
        <shadow type="math_number">
          <field name="NUM">10</field>
        </shadow>
      </value>
    </block>

    <block type="controls_for">
      <value name="FROM">
        <block type="math_number">
          <field name="NUM">1</field>
        </block>
      </value>
      <value name="TO">
        <block type="math_number">
          <field name="NUM">10</field>
        </block>
      </value>
      <value name="BY">
        <shadow type="math_number">
          <field name="NUM">1</field>
        </shadow>
      </value>
    </block>
  </category>

  <category name="%{BKY_CATMATH}" colour="%{BKY_MATH_HUE}">
    <block type="math_number"></block>

    <block type="math_change">
      <value name="DELTA">
        <block type="math_number">
          <field name="NUM">1</field>
        </block>
      </value>
    </block>

    <block type="math_arithmetic">
      <value name="A">
        <shadow type="math_number">
          <field name="NUM">0</field>
        </shadow>
      </value>
      <value name="B">
        <shadow type="variables_get">
          <field name="VAR">i</field>
        </shadow>
      </value>
    </block>

    <block type="math_modulo">
      <value name="DIVIDEND">
        <shadow type="variables_get">
          <field name="VAR">i</field>
        </shadow>
      </value>
      <value name="DIVISOR">
        <shadow type="math_number">
          <field name="NUM">3</field>
        </shadow>
      </value>
    </block>

    <block type="math_random_int">
      <value name="FROM">
        <shadow type="math_number">
          <field name="NUM">-1</field>
        </shadow>
      </value>
      <value name="TO">
        <shadow type="math_number">
          <field name="NUM">1</field>
        </shadow>
      </value>
    </block>
  </category>

  <sep></sep>
  <category name="%{BKY_CATVARIABLES}" colour="%{BKY_VARIABLES_HUE}" custom="VARIABLE"></category>
  <category name="%{BKY_CATFUNCTIONS}" colour="%{BKY_PROCEDURES_HUE}" custom="PROCEDURE"></category>
</xml>
